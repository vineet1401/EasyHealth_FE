"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[160],{8114:(e,r,t)=>{t.d(r,{A:()=>p});var a=t(5043),s=t(3216),n=t(5475),o=t(9776),l=t(9456),i=t(5089),c=t(1009),d=t(5922),m=t(7070),u=t(579);const p=()=>{const[e,r]=(0,a.useState)(!1),t=(0,l.wA)(),p=(0,s.Zp)(),[h,f]=(0,a.useState)(localStorage.getItem("token")||""),[g,x]=(0,a.useState)(localStorage.getItem("token")?(0,m.A)(localStorage.getItem("token")):"");return(0,u.jsxs)("header",{children:[(0,u.jsxs)("nav",{className:e?"nav-active":"",children:[(0,u.jsx)("h2",{className:"nav-logo",children:(0,u.jsx)(n.k2,{to:"/",children:"Easy Health"})}),(0,u.jsxs)("ul",{className:"nav-links",children:[(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{to:"/",children:"Home"})}),(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{to:"/doctors",children:"Doctors"})}),h&&g.isAdmin&&(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{to:"/dashboard/users",children:"Dashboard"})}),h&&!g.isAdmin&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{to:"/appointments",children:"Appointments"})}),(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{to:"/notifications",children:"Notifications"})}),(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{to:"/applyfordoctor",children:"Apply for doctor"})}),(0,u.jsx)("li",{children:(0,u.jsx)(o.Vq,{to:"/#contact",children:"Contact Us"})}),(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{to:"/profile",children:"Profile"})})]}),h?(0,u.jsx)("li",{children:(0,u.jsx)("span",{className:"btn",onClick:()=>{t((0,i.iA)({})),localStorage.removeItem("token"),p("/login")},children:"Logout"})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{className:"btn",to:"/login",children:"Login"})}),(0,u.jsx)("li",{children:(0,u.jsx)(n.k2,{className:"btn",to:"/register",children:"Register"})})]})]})]}),(0,u.jsxs)("div",{className:"menu-icons",children:[!e&&(0,u.jsx)(c.ND1,{className:"menu-open",onClick:()=>{r(!0)}}),e&&(0,u.jsx)(d.clO,{className:"menu-close",onClick:()=>{r(!1)}})]})]})}},681:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var a=t(5043),s=t(6213),n=t(2339),o=t(5089),l=t(9456),i=t(8271),c=t(5789),d=t(7070),m=t(8114),u=t(579);s.A.defaults.baseURL="https://easyhealth-y4u8.onrender.com/api";const p=function(){const{userId:e}=(0,d.A)(localStorage.getItem("token")),r=(0,l.wA)(),{loading:t}=(0,l.d4)((e=>e.root)),[p,h]=(0,a.useState)(""),[f,g]=(0,a.useState)({firstname:"",lastname:"",email:"",age:"",mobile:"",gender:"neither",address:"",password:"",confpassword:""});(0,a.useEffect)((()=>{(async()=>{try{r((0,o.r1)(!0));const t=await(0,c.A)("/user/getuser/".concat(e));g({...t,password:"",confpassword:"",mobile:null===t.mobile?"":t.mobile,age:null===t.age?"":t.age}),h(t.pic),r((0,o.r1)(!1))}catch(t){}})()}),[r]);const x=e=>{const{name:r,value:t}=e.target;return g({...f,[r]:t})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m.A,{}),t?(0,u.jsx)(i.A,{}):(0,u.jsx)("section",{className:"register-section flex-center",children:(0,u.jsxs)("div",{className:"profile-container flex-center",children:[(0,u.jsx)("h2",{className:"form-heading",style:{margin:"0px"},children:"Profile"}),(0,u.jsx)("img",{src:p,alt:"profile",className:"profile-pic"}),(0,u.jsxs)("form",{onSubmit:async e=>{try{e.preventDefault();const{firstname:r,lastname:t,email:a,age:o,mobile:l,address:i,gender:c,password:d,confpassword:m}=f;if(!a)return n.Ay.error("Email should not be empty");if(r.length<3)return n.Ay.error("First name must be at least 3 characters long");if(t.length<3)return n.Ay.error("Last name must be at least 3 characters long");if(d.length<5)return n.Ay.error("Password must be at least 5 characters long");if(d!==m)return n.Ay.error("Passwords do not match");await n.Ay.promise(s.A.put("/user/updateprofile",{firstname:r,lastname:t,age:o,mobile:l,address:i,gender:c,email:a,password:d},{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{pending:"Updating profile...",success:"Profile updated successfully",error:"Unable to update profile",loading:"Updating profile..."}),g({...f,password:"",confpassword:""})}catch(r){return n.Ay.error("Unable to update profile")}},className:"register-form",children:[(0,u.jsxs)("div",{className:"form-same-row",children:[(0,u.jsx)("input",{type:"text",name:"firstname",className:"form-input",placeholder:"Enter your first name",value:f.firstname,onChange:x}),(0,u.jsx)("input",{type:"text",name:"lastname",className:"form-input",placeholder:"Enter your last name",value:f.lastname,onChange:x})]}),(0,u.jsxs)("div",{className:"form-same-row",children:[(0,u.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:f.email,onChange:x}),(0,u.jsxs)("select",{name:"gender",value:f.gender,className:"form-input",id:"gender",onChange:x,children:[(0,u.jsx)("option",{value:"neither",children:"Prefer not to say"}),(0,u.jsx)("option",{value:"male",children:"Male"}),(0,u.jsx)("option",{value:"female",children:"Female"})]})]}),(0,u.jsxs)("div",{className:"form-same-row",children:[(0,u.jsx)("input",{type:"text",name:"age",className:"form-input",placeholder:"Enter your age",value:f.age,onChange:x}),(0,u.jsx)("input",{type:"text",name:"mobile",className:"form-input",placeholder:"Enter your mobile number",value:null===f||void 0===f?void 0:f.mobile,onChange:x})]}),(0,u.jsx)("textarea",{type:"text",name:"address",className:"form-input",placeholder:"Enter your address",value:f.address,onChange:x,rows:"2"}),(0,u.jsxs)("div",{className:"form-same-row",children:[(0,u.jsx)("input",{type:"password",name:"password",className:"form-input",placeholder:"Enter your password",value:f.password,onChange:x}),(0,u.jsx)("input",{type:"password",name:"confpassword",className:"form-input",placeholder:"Confirm your password",value:f.confpassword,onChange:x})]}),(0,u.jsx)("button",{type:"submit",className:"btn form-btn",children:"update"})]})]})})]})}},6688:(e,r,t)=>{t.d(r,{k5:()=>c});var a=t(5043),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(s),o=function(){return o=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var s in r=arguments[t])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},o.apply(this,arguments)},l=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]])}return t};function i(e){return e&&e.map((function(e,r){return a.createElement(e.tag,o({key:r},e.attr),i(e.child))}))}function c(e){return function(r){return a.createElement(d,o({attr:o({},e.attr)},r),i(e.child))}}function d(e){var r=function(r){var t,s=e.attr,n=e.size,i=e.title,c=l(e,["attr","size","title"]),d=n||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,c,{className:t,style:o(o({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==n?a.createElement(n.Consumer,null,(function(e){return r(e)})):r(s)}}}]);
//# sourceMappingURL=160.455d745c.chunk.js.map